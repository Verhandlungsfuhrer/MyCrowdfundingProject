window.addEventListener('DOMContentLoaded', async () => {
    const contractAddress = "0xe8194772fc16b0418b6d2c0473a9cf5923a082bfe546708770f3e7f9238e0b03"; 
    const contractABI = [{"abi":[{"type":"function","name":"IS_SCRIPT","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"run","inputs":[],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x60806040526001600c5f6101000a81548160ff0219169083151502179055506001600c60026101000a81548160ff0219169083151502179055503480156043575f5ffd5b506116bb806100515f395ff3fe608060405234801561000f575f5ffd5b5060043610610034575f3560e01c8063c040622614610038578063f8ccbf4714610042575b5f5ffd5b610040610060565b005b61004a61017a565b60405161005791906101b4565b60405180910390f35b737109709ecfa91a80626ff3989d68f67f5b1dd12d73ffffffffffffffffffffffffffffffffffffffff16637fb5297f6040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156100b9575f5ffd5b505af11580156100cb573d5f5f3e3d5ffd5b5050505067016345785d8a00006040516100e49061018d565b6100ee919061032e565b604051809103905ff080158015610107573d5f5f3e3d5ffd5b5050737109709ecfa91a80626ff3989d68f67f5b1dd12d73ffffffffffffffffffffffffffffffffffffffff166376eadd366040518163ffffffff1660e01b81526004015f604051808303815f87803b158015610162575f5ffd5b505af1158015610174573d5f5f3e3d5ffd5b50505050565b600c60029054906101000a900460ff1681565b6113188061036e83390190565b5f8115159050919050565b6101ae8161019a565b82525050565b5f6020820190506101c75f8301846101a5565b92915050565b5f82825260208201905092915050565b7fd09cd0bed0b920d0bfd0b5d180d0b2d18bd0b920d0bad180d0b0d183d0b4d1845f8201527fd0b0d0bdd0b4d0b8d0bdd0b30000000000000000000000000000000000000000602082015250565b5f610237602c836101cd565b9150610242826101dd565b604082019050919050565b7fd0add182d0be20d182d0b5d181d182d0bed0b2d18bd0b920d0bfd180d0bed0b55f8201527fd0bad18220d0bfd0be20d181d0b1d0bed180d18320d181d180d0b5d0b4d181d160208201527f82d0b20000000000000000000000000000000000000000000000000000000000604082015250565b5f6102cd6043836101cd565b91506102d88261024d565b606082019050919050565b5f819050919050565b5f819050919050565b5f819050919050565b5f61031861031361030e846102e3565b6102f5565b6102ec565b9050919050565b610328816102fe565b82525050565b5f6060820190508181035f8301526103458161022b565b90508181036020830152610358816102c1565b9050610367604083018461031f565b9291505056fe608060405234801561000f575f5ffd5b5060405161131838038061131883398181016040528101906100319190610226565b825f908161003f91906104b5565b50816001908161004f91906104b5565b50806002819055503360045f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505f600381905550505050610584565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b610105826100bf565b810181811067ffffffffffffffff82111715610124576101236100cf565b5b80604052505050565b5f6101366100a6565b905061014282826100fc565b919050565b5f67ffffffffffffffff821115610161576101606100cf565b5b61016a826100bf565b9050602081019050919050565b8281835e5f83830152505050565b5f61019761019284610147565b61012d565b9050828152602081018484840111156101b3576101b26100bb565b5b6101be848285610177565b509392505050565b5f82601f8301126101da576101d96100b7565b5b81516101ea848260208601610185565b91505092915050565b5f819050919050565b610205816101f3565b811461020f575f5ffd5b50565b5f81519050610220816101fc565b92915050565b5f5f5f6060848603121561023d5761023c6100af565b5b5f84015167ffffffffffffffff81111561025a576102596100b3565b5b610266868287016101c6565b935050602084015167ffffffffffffffff811115610287576102866100b3565b5b610293868287016101c6565b92505060406102a486828701610212565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806102fc57607f821691505b60208210810361030f5761030e6102b8565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026103717fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610336565b61037b8683610336565b95508019841693508086168417925050509392505050565b5f819050919050565b5f6103b66103b16103ac846101f3565b610393565b6101f3565b9050919050565b5f819050919050565b6103cf8361039c565b6103e36103db826103bd565b848454610342565b825550505050565b5f5f905090565b6103fa6103eb565b6104058184846103c6565b505050565b5b818110156104285761041d5f826103f2565b60018101905061040b565b5050565b601f82111561046d5761043e81610315565b61044784610327565b81016020851015610456578190505b61046a61046285610327565b83018261040a565b50505b505050565b5f82821c905092915050565b5f61048d5f1984600802610472565b1980831691505092915050565b5f6104a5838361047e565b9150826002028217905092915050565b6104be826102ae565b67ffffffffffffffff8111156104d7576104d66100cf565b5b6104e182546102e5565b6104ec82828561042c565b5f60209050601f83116001811461051d575f841561050b578287015190505b610515858261049a565b86555061057c565b601f19841661052b86610315565b5f5b828110156105525784890151825560018201915060208501945060208101905061052d565b8683101561056f578489015161056b601f89168261047e565b8355505b6001600288020188555050505b505050505050565b610d87806105915f395ff3fe60806040526004361061009b575f3560e01c80638da5cb5b116100635780638da5cb5b1461015c578063968ed600146101865780639a33e300146101b0578063b60d4288146101da578063c407670f146101e4578063f8626af81461020e5761009b565b80633ccfd60b1461009f57806340193883146100b55780634abfa163146100df578063590e1ae31461011c5780637284e41614610132575b5f5ffd5b3480156100aa575f5ffd5b506100b361024b565b005b3480156100c0575f5ffd5b506100c9610393565b6040516100d691906108ab565b60405180910390f35b3480156100ea575f5ffd5b50610105600480360381019061010091906108f2565b610399565b60405161011392919061095c565b60405180910390f35b348015610127575f5ffd5b506101306103f0565b005b34801561013d575f5ffd5b506101466105f8565b60405161015391906109f3565b60405180910390f35b348015610167575f5ffd5b50610170610684565b60405161017d9190610a13565b60405180910390f35b348015610191575f5ffd5b5061019a6106a9565b6040516101a791906108ab565b60405180910390f35b3480156101bb575f5ffd5b506101c46106af565b6040516101d191906109f3565b60405180910390f35b6101e261073a565b005b3480156101ef575f5ffd5b506101f8610839565b60405161020591906108ab565b60405180910390f35b348015610219575f5ffd5b50610234600480360381019061022f91906108f2565b610845565b60405161024292919061095c565b60405180910390f35b60045f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146102da576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102d190610a76565b60405180910390fd5b5f6003541161031e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161031590610ade565b60405180910390fd5b5f60035490505f60038190555060045f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc8290811502906040515f60405180830381858888f1935050505015801561038f573d5f5f3e3d5ffd5b5050565b60025481565b5f5f5f600584815481106103b0576103af610afc565b5b905f5260205f2090600202019050805f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681600101549250925050915091565b60025460035410610436576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161042d90610b73565b60405180910390fd5b5f5f90505f5f90505b600580549050811015610556573373ffffffffffffffffffffffffffffffffffffffff166005828154811061047757610476610afc565b5b905f5260205f2090600202015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161480156104ea57505f600582815481106104d8576104d7610afc565b5b905f5260205f20906002020160010154115b15610549576005818154811061050357610502610afc565b5b905f5260205f209060020201600101548261051e9190610bbe565b91505f6005828154811061053557610534610afc565b5b905f5260205f209060020201600101819055505b808060010191505061043f565b505f8111610599576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161059090610c3b565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc8290811502906040515f60405180830381858888f193505050501580156105dc573d5f5f3e3d5ffd5b508060035f8282546105ee9190610c59565b9250508190555050565b6001805461060590610cb9565b80601f016020809104026020016040519081016040528092919081815260200182805461063190610cb9565b801561067c5780601f106106535761010080835404028352916020019161067c565b820191905f5260205f20905b81548152906001019060200180831161065f57829003601f168201915b505050505081565b60045f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60035481565b5f80546106bb90610cb9565b80601f01602080910402602001604051908101604052809291908181526020018280546106e790610cb9565b80156107325780601f1061070957610100808354040283529160200191610732565b820191905f5260205f20905b81548152906001019060200180831161071557829003601f168201915b505050505081565b5f341161077c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161077390610d33565b60405180910390fd5b3460035f82825461078d9190610bbe565b92505081905550600560405180604001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200134815250908060018154018082558091505060019003905f5260205f2090600202015f909190919091505f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101555050565b5f600580549050905090565b60058181548110610854575f80fd5b905f5260205f2090600202015f91509050805f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154905082565b5f819050919050565b6108a581610893565b82525050565b5f6020820190506108be5f83018461089c565b92915050565b5f5ffd5b6108d181610893565b81146108db575f5ffd5b50565b5f813590506108ec816108c8565b92915050565b5f60208284031215610907576109066108c4565b5b5f610914848285016108de565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6109468261091d565b9050919050565b6109568161093c565b82525050565b5f60408201905061096f5f83018561094d565b61097c602083018461089c565b9392505050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6109c582610983565b6109cf818561098d565b93506109df81856020860161099d565b6109e8816109ab565b840191505092915050565b5f6020820190508181035f830152610a0b81846109bb565b905092915050565b5f602082019050610a265f83018461094d565b92915050565b7f4f6e6c79206f776e65722063616e2077697468647261770000000000000000005f82015250565b5f610a6060178361098d565b9150610a6b82610a2c565b602082019050919050565b5f6020820190508181035f830152610a8d81610a54565b9050919050565b7f4e6f2066756e647320746f2077697468647261770000000000000000000000005f82015250565b5f610ac860148361098d565b9150610ad382610a94565b602082019050919050565b5f6020820190508181035f830152610af581610abc565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f476f616c20726561636865642c2063616e6e6f7420726566756e6400000000005f82015250565b5f610b5d601b8361098d565b9150610b6882610b29565b602082019050919050565b5f6020820190508181035f830152610b8a81610b51565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610bc882610893565b9150610bd383610893565b9250828201905080821115610beb57610bea610b91565b5b92915050565b7f4e6f2066756e647320746f20726566756e6400000000000000000000000000005f82015250565b5f610c2560128361098d565b9150610c3082610bf1565b602082019050919050565b5f6020820190508181035f830152610c5281610c19565b9050919050565b5f610c6382610893565b9150610c6e83610893565b9250828203905081811115610c8657610c85610b91565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610cd057607f821691505b602082108103610ce357610ce2610c8c565b5b50919050565b7f446f6e617465206d6f7265207468616e203000000000000000000000000000005f82015250565b5f610d1d60128361098d565b9150610d2882610ce9565b602082019050919050565b5f6020820190508181035f830152610d4a81610d11565b905091905056fea2646970667358221220a4b431e01d5f1c843993696c6fbe41265968b0dcbc931feb53f4fc553ca2f25364736f6c634300081e0033a2646970667358221220b0e16344536aead493379b73ea67ea0ad8198a86c1f17c54caf22cb68dee3ed264736f6c634300081e0033","sourceMap":"158:389:15:-:0;;;3200:4:2;3160:44;;;;;;;;;;;;;;;;;;;;873:4:1;849:28;;;;;;;;;;;;;;;;;;;;158:389:15;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b5060043610610034575f3560e01c8063c040622614610038578063f8ccbf4714610042575b5f5ffd5b610040610060565b005b61004a61017a565b60405161005791906101b4565b60405180910390f35b737109709ecfa91a80626ff3989d68f67f5b1dd12d73ffffffffffffffffffffffffffffffffffffffff16637fb5297f6040518163ffffffff1660e01b81526004015f604051808303815f87803b1580156100b9575f5ffd5b505af11580156100cb573d5f5f3e3d5ffd5b5050505067016345785d8a00006040516100e49061018d565b6100ee919061032e565b604051809103905ff080158015610107573d5f5f3e3d5ffd5b5050737109709ecfa91a80626ff3989d68f67f5b1dd12d73ffffffffffffffffffffffffffffffffffffffff166376eadd366040518163ffffffff1660e01b81526004015f604051808303815f87803b158015610162575f5ffd5b505af1158015610174573d5f5f3e3d5ffd5b50505050565b600c60029054906101000a900460ff1681565b6113188061036e83390190565b5f8115159050919050565b6101ae8161019a565b82525050565b5f6020820190506101c75f8301846101a5565b92915050565b5f82825260208201905092915050565b7fd09cd0bed0b920d0bfd0b5d180d0b2d18bd0b920d0bad180d0b0d183d0b4d1845f8201527fd0b0d0bdd0b4d0b8d0bdd0b30000000000000000000000000000000000000000602082015250565b5f610237602c836101cd565b9150610242826101dd565b604082019050919050565b7fd0add182d0be20d182d0b5d181d182d0bed0b2d18bd0b920d0bfd180d0bed0b55f8201527fd0bad18220d0bfd0be20d181d0b1d0bed180d18320d181d180d0b5d0b4d181d160208201527f82d0b20000000000000000000000000000000000000000000000000000000000604082015250565b5f6102cd6043836101cd565b91506102d88261024d565b606082019050919050565b5f819050919050565b5f819050919050565b5f819050919050565b5f61031861031361030e846102e3565b6102f5565b6102ec565b9050919050565b610328816102fe565b82525050565b5f6060820190508181035f8301526103458161022b565b90508181036020830152610358816102c1565b9050610367604083018461031f565b9291505056fe608060405234801561000f575f5ffd5b5060405161131838038061131883398181016040528101906100319190610226565b825f908161003f91906104b5565b50816001908161004f91906104b5565b50806002819055503360045f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505f600381905550505050610584565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b610105826100bf565b810181811067ffffffffffffffff82111715610124576101236100cf565b5b80604052505050565b5f6101366100a6565b905061014282826100fc565b919050565b5f67ffffffffffffffff821115610161576101606100cf565b5b61016a826100bf565b9050602081019050919050565b8281835e5f83830152505050565b5f61019761019284610147565b61012d565b9050828152602081018484840111156101b3576101b26100bb565b5b6101be848285610177565b509392505050565b5f82601f8301126101da576101d96100b7565b5b81516101ea848260208601610185565b91505092915050565b5f819050919050565b610205816101f3565b811461020f575f5ffd5b50565b5f81519050610220816101fc565b92915050565b5f5f5f6060848603121561023d5761023c6100af565b5b5f84015167ffffffffffffffff81111561025a576102596100b3565b5b610266868287016101c6565b935050602084015167ffffffffffffffff811115610287576102866100b3565b5b610293868287016101c6565b92505060406102a486828701610212565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806102fc57607f821691505b60208210810361030f5761030e6102b8565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026103717fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610336565b61037b8683610336565b95508019841693508086168417925050509392505050565b5f819050919050565b5f6103b66103b16103ac846101f3565b610393565b6101f3565b9050919050565b5f819050919050565b6103cf8361039c565b6103e36103db826103bd565b848454610342565b825550505050565b5f5f905090565b6103fa6103eb565b6104058184846103c6565b505050565b5b818110156104285761041d5f826103f2565b60018101905061040b565b5050565b601f82111561046d5761043e81610315565b61044784610327565b81016020851015610456578190505b61046a61046285610327565b83018261040a565b50505b505050565b5f82821c905092915050565b5f61048d5f1984600802610472565b1980831691505092915050565b5f6104a5838361047e565b9150826002028217905092915050565b6104be826102ae565b67ffffffffffffffff8111156104d7576104d66100cf565b5b6104e182546102e5565b6104ec82828561042c565b5f60209050601f83116001811461051d575f841561050b578287015190505b610515858261049a565b86555061057c565b601f19841661052b86610315565b5f5b828110156105525784890151825560018201915060208501945060208101905061052d565b8683101561056f578489015161056b601f89168261047e565b8355505b6001600288020188555050505b505050505050565b610d87806105915f395ff3fe60806040526004361061009b575f3560e01c80638da5cb5b116100635780638da5cb5b1461015c578063968ed600146101865780639a33e300146101b0578063b60d4288146101da578063c407670f146101e4578063f8626af81461020e5761009b565b80633ccfd60b1461009f57806340193883146100b55780634abfa163146100df578063590e1ae31461011c5780637284e41614610132575b5f5ffd5b3480156100aa575f5ffd5b506100b361024b565b005b3480156100c0575f5ffd5b506100c9610393565b6040516100d691906108ab565b60405180910390f35b3480156100ea575f5ffd5b50610105600480360381019061010091906108f2565b610399565b60405161011392919061095c565b60405180910390f35b348015610127575f5ffd5b506101306103f0565b005b34801561013d575f5ffd5b506101466105f8565b60405161015391906109f3565b60405180910390f35b348015610167575f5ffd5b50610170610684565b60405161017d9190610a13565b60405180910390f35b348015610191575f5ffd5b5061019a6106a9565b6040516101a791906108ab565b60405180910390f35b3480156101bb575f5ffd5b506101c46106af565b6040516101d191906109f3565b60405180910390f35b6101e261073a565b005b3480156101ef575f5ffd5b506101f8610839565b60405161020591906108ab565b60405180910390f35b348015610219575f5ffd5b50610234600480360381019061022f91906108f2565b610845565b60405161024292919061095c565b60405180910390f35b60045f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146102da576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102d190610a76565b60405180910390fd5b5f6003541161031e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161031590610ade565b60405180910390fd5b5f60035490505f60038190555060045f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc8290811502906040515f60405180830381858888f1935050505015801561038f573d5f5f3e3d5ffd5b5050565b60025481565b5f5f5f600584815481106103b0576103af610afc565b5b905f5260205f2090600202019050805f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681600101549250925050915091565b60025460035410610436576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161042d90610b73565b60405180910390fd5b5f5f90505f5f90505b600580549050811015610556573373ffffffffffffffffffffffffffffffffffffffff166005828154811061047757610476610afc565b5b905f5260205f2090600202015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161480156104ea57505f600582815481106104d8576104d7610afc565b5b905f5260205f20906002020160010154115b15610549576005818154811061050357610502610afc565b5b905f5260205f209060020201600101548261051e9190610bbe565b91505f6005828154811061053557610534610afc565b5b905f5260205f209060020201600101819055505b808060010191505061043f565b505f8111610599576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161059090610c3b565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff166108fc8290811502906040515f60405180830381858888f193505050501580156105dc573d5f5f3e3d5ffd5b508060035f8282546105ee9190610c59565b9250508190555050565b6001805461060590610cb9565b80601f016020809104026020016040519081016040528092919081815260200182805461063190610cb9565b801561067c5780601f106106535761010080835404028352916020019161067c565b820191905f5260205f20905b81548152906001019060200180831161065f57829003601f168201915b505050505081565b60045f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60035481565b5f80546106bb90610cb9565b80601f01602080910402602001604051908101604052809291908181526020018280546106e790610cb9565b80156107325780601f1061070957610100808354040283529160200191610732565b820191905f5260205f20905b81548152906001019060200180831161071557829003601f168201915b505050505081565b5f341161077c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161077390610d33565b60405180910390fd5b3460035f82825461078d9190610bbe565b92505081905550600560405180604001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200134815250908060018154018082558091505060019003905f5260205f2090600202015f909190919091505f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101555050565b5f600580549050905090565b60058181548110610854575f80fd5b905f5260205f2090600202015f91509050805f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154905082565b5f819050919050565b6108a581610893565b82525050565b5f6020820190506108be5f83018461089c565b92915050565b5f5ffd5b6108d181610893565b81146108db575f5ffd5b50565b5f813590506108ec816108c8565b92915050565b5f60208284031215610907576109066108c4565b5b5f610914848285016108de565b91505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6109468261091d565b9050919050565b6109568161093c565b82525050565b5f60408201905061096f5f83018561094d565b61097c602083018461089c565b9392505050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6109c582610983565b6109cf818561098d565b93506109df81856020860161099d565b6109e8816109ab565b840191505092915050565b5f6020820190508181035f830152610a0b81846109bb565b905092915050565b5f602082019050610a265f83018461094d565b92915050565b7f4f6e6c79206f776e65722063616e2077697468647261770000000000000000005f82015250565b5f610a6060178361098d565b9150610a6b82610a2c565b602082019050919050565b5f6020820190508181035f830152610a8d81610a54565b9050919050565b7f4e6f2066756e647320746f2077697468647261770000000000000000000000005f82015250565b5f610ac860148361098d565b9150610ad382610a94565b602082019050919050565b5f6020820190508181035f830152610af581610abc565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f476f616c20726561636865642c2063616e6e6f7420726566756e6400000000005f82015250565b5f610b5d601b8361098d565b9150610b6882610b29565b602082019050919050565b5f6020820190508181035f830152610b8a81610b51565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610bc882610893565b9150610bd383610893565b9250828201905080821115610beb57610bea610b91565b5b92915050565b7f4e6f2066756e647320746f20726566756e6400000000000000000000000000005f82015250565b5f610c2560128361098d565b9150610c3082610bf1565b602082019050919050565b5f6020820190508181035f830152610c5281610c19565b9050919050565b5f610c6382610893565b9150610c6e83610893565b9250828203905081811115610c8657610c85610b91565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610cd057607f821691505b602082108103610ce357610ce2610c8c565b5b50919050565b7f446f6e617465206d6f7265207468616e203000000000000000000000000000005f82015250565b5f610d1d60128361098d565b9150610d2882610ce9565b602082019050919050565b5f6020820190508181035f830152610d4a81610d11565b905091905056fea2646970667358221220a4b431e01d5f1c843993696c6fbe41265968b0dcbc931feb53f4fc553ca2f25364736f6c634300081e0033a2646970667358221220b0e16344536aead493379b73ea67ea0ad8198a86c1f17c54caf22cb68dee3ed264736f6c634300081e0033","sourceMap":"158:389:15:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;202:343;;;:::i;:::-;;849:28:1;;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;202:343:15;336:42:0;236:17:15;;;:19;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;461:9;274:227;;;;;:::i;:::-;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;336:42:0;520:16:15;;;:18;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;202:343::o;849:28:1:-;;;;;;;;;;;;;:::o;-1:-1:-1:-;;;;;;;;:::o;7:90:17:-;41:7;84:5;77:13;70:21;59:32;;7:90;;;:::o;103:109::-;184:21;199:5;184:21;:::i;:::-;179:3;172:34;103:109;;:::o;218:210::-;305:4;343:2;332:9;328:18;320:26;;356:65;418:1;407:9;403:17;394:6;356:65;:::i;:::-;218:210;;;;:::o;434:169::-;518:11;552:6;547:3;540:19;592:4;587:3;583:14;568:29;;434:169;;;;:::o;609:315::-;749:66;745:1;737:6;733:14;726:90;850:66;845:2;837:6;833:15;826:91;609:315;:::o;930:366::-;1072:3;1093:67;1157:2;1152:3;1093:67;:::i;:::-;1086:74;;1169:93;1258:3;1169:93;:::i;:::-;1287:2;1282:3;1278:12;1271:19;;930:366;;;:::o;1302:416::-;1442:66;1438:1;1430:6;1426:14;1419:90;1543:66;1538:2;1530:6;1526:15;1519:91;1644:66;1639:2;1631:6;1627:15;1620:91;1302:416;:::o;1724:366::-;1866:3;1887:67;1951:2;1946:3;1887:67;:::i;:::-;1880:74;;1963:93;2052:3;1963:93;:::i;:::-;2081:2;2076:3;2072:12;2065:19;;1724:366;;;:::o;2096:102::-;2158:7;2187:5;2176:16;;2096:102;;;:::o;2204:77::-;2241:7;2270:5;2259:16;;2204:77;;;:::o;2287:60::-;2315:3;2336:5;2329:12;;2287:60;;;:::o;2353:192::-;2428:9;2461:78;2479:59;2488:49;2531:5;2488:49;:::i;:::-;2479:59;:::i;:::-;2461:78;:::i;:::-;2448:91;;2353:192;;;:::o;2551:181::-;2663:62;2719:5;2663:62;:::i;:::-;2658:3;2651:75;2551:181;;:::o;2738:886::-;3058:4;3096:2;3085:9;3081:18;3073:26;;3145:9;3139:4;3135:20;3131:1;3120:9;3116:17;3109:47;3173:131;3299:4;3173:131;:::i;:::-;3165:139;;3351:9;3345:4;3341:20;3336:2;3325:9;3321:18;3314:48;3379:131;3505:4;3379:131;:::i;:::-;3371:139;;3520:97;3613:2;3602:9;3598:18;3589:6;3520:97;:::i;:::-;2738:886;;;;:::o","linkReferences":{}},"methodIdentifiers":{"IS_SCRIPT()":"f8ccbf47","run()":"c0406226"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"IS_SCRIPT\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"run\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"script/DeployCrowdfunding.s.sol\":\"DeployCrowdfunding\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"lib/forge-std/src/Base.sol\":{\"keccak256\":\"0x4b2a5a85e045dcf6a082700c7252e43854c2eed88f860aaa18ec1e85218ae2bf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://98d060ed5be569a92d908fc358149039dc8f833d61973aa1b9d1d8235676bf6d\",\"dweb:/ipfs/QmaWQpn5dJmbMS5skwmPPMeUWZG35BLkignPpcA3zyagEs\"]},\"lib/forge-std/src/Script.sol\":{\"keccak256\":\"0xc942e27c7baae499beb01afbbae99f24d42af9a6e4aae675bc6901b704aa8e9b\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0456008adf68947247f358b62863af4a8e349549d2260f2ff9569ff0e3cf5c98\",\"dweb:/ipfs/QmdviSUj2i7o3TPN5vd2xocqGMFVqjUzaiJTZRYyPxyHPx\"]},\"lib/forge-std/src/StdChains.sol\":{\"keccak256\":\"0x8bed7472cb417f0e55ea37fe8cd34a54788d06a13de7c96e1448eae041744568\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6bf07369fee84b74edd61c8eb08bf71e3f4fdbb6ad24061996b4e2bfd42f3f69\",\"dweb:/ipfs/QmQhyYedzf8GtTc51495Lek1rZBQ6nigrGFXUpwHhN3RLa\"]},\"lib/forge-std/src/StdCheats.sol\":{\"keccak256\":\"0x07852d61fcf2fe5e25fa66e607f52cb97eab8adaf2e3fd4cb8404eb69baee90c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ed97c9c7372b77a0b417c1285f631aa1396d8c3104f14b80abd559f305d67d1e\",\"dweb:/ipfs/QmeHLpi3g9XKLT8z76AF5ofwrXQm2yxPDpWztCZ2wPDW6i\"]},\"lib/forge-std/src/StdConstants.sol\":{\"keccak256\":\"0x319ccdabfa2c0b2428301445873270ffea20f0e039d4fd5e6eeba65158e4e534\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b633f9d3a719e1d035ce7daa6cc051ddf89a72d34200d14cec37728e245cdabc\",\"dweb:/ipfs/QmRP7HQJpHMx1CsFrY8tXVVx1DQmi2dcb2BoGfiWaA923r\"]},\"lib/forge-std/src/StdJson.sol\":{\"keccak256\":\"0x9de30197a56fe90c443948c3feeb20e9a29e0e9c0b8fa893e8ac4c1344acd589\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://444783bd32a8abfd3fbcf16c5d1cdccef5608b2a9cfddd789fa1b045b077ed2a\",\"dweb:/ipfs/QmY94NxHDFW1Knxs9GcgFhq2QZQpRXgor4NMamKQ9CCVyp\"]},\"lib/forge-std/src/StdMath.sol\":{\"keccak256\":\"0xcb876f5421e5aae334f9a6c5d549131c18ad347f1035d2a1e920f2623f346c85\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://28076e06b01be4095f860fa9b142c284bac34c0813948e0a52d11acc15502db6\",\"dweb:/ipfs/QmVR6XFTmBatJAVvYgkZxN21R5zvYTU4ard4Aow8TmXjy9\"]},\"lib/forge-std/src/StdStorage.sol\":{\"keccak256\":\"0xddd9f444525fe3b2db77df55bde598676784b13bd19ead1d19b95802de0eacdc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://53770fa34bf0d75fd2946b71335ce6e6001053595e6dd78e7af9baf7a5270616\",\"dweb:/ipfs/QmVvfuJi928Hw6i44oUArYeAP8Pst1bvQvUeJ3CTdh1yUZ\"]},\"lib/forge-std/src/StdStyle.sol\":{\"keccak256\":\"0x43e2a8a9b9c2574dabe74f11adf6f782df218f463540e3b5b563609fe108597d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://51363ca97404cf4128e1141428949768c31929e75e014b02c85e887fbbb4f1b8\",\"dweb:/ipfs/QmVhtbQc2fU4rRmbcfBtz34mAgG4BAZBsbna1Ca4SkoPsK\"]},\"lib/forge-std/src/StdUtils.sol\":{\"keccak256\":\"0x4b541d0e4758fbbefeb1f2d547c864b2cb7cc35fcd6ff81772a44cc86344e19c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f2271f9441041fe761879924bcd027cdb0145586a9769d2043fe551cf78c6a7\",\"dweb:/ipfs/QmZP6jjnsTH7L3T8P9ecJXqg9o5P3sa1FbCG6DY3HYYcfx\"]},\"lib/forge-std/src/Vm.sol\":{\"keccak256\":\"0x1f3cfde19cafbd145904bfb00581a10ca7667186276e8c91dc2943ec559de88a\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://bdf9afa0df475e5ea0aa1f5feb27987499051a1a85a9177d3d01e131ff0f1af2\",\"dweb:/ipfs/QmdQfAdeU4PtQSHs1mMwoEUpdFfbrgRdJuhVXeaxeb5dxV\"]},\"lib/forge-std/src/console.sol\":{\"keccak256\":\"0x4bbf47eb762cef93729d6ef15e78789957147039b113e5d4df48e3d3fd16d0f5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://af9e3a7c3d82fb5b10b57ca4d1a82f2acbef80c077f6f6ef0cc0187c7bfd9f57\",\"dweb:/ipfs/QmR9VzmnBDJpgiDP6CHT6truehukF9HpYvuP6kRiJbDwPP\"]},\"lib/forge-std/src/console2.sol\":{\"keccak256\":\"0x3b8fe79f48f065a4e4d35362171304a33784c3a90febae5f2787805a438de12f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://61de63af08803549299e68b6e6e88d40f3c5afac450e4ee0a228c66a61ba003d\",\"dweb:/ipfs/QmWVoQ5rrVxnczD4ZZoPbD4PC9Z3uExJtzjD4awTqd14MZ\"]},\"lib/forge-std/src/interfaces/IMulticall3.sol\":{\"keccak256\":\"0xeb0daba50f85adb160209f03ebf7b3b548e09651aa799087795daf17b1495c7a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8b5b356871e51267728d69c662d8d8ce653dd0a8edc47098b6f8064ea1173e28\",\"dweb:/ipfs/QmRJTAmV68NYGSkDGKrGpsJnEZ8wQF4dDCevXGtNU4RWtQ\"]},\"lib/forge-std/src/safeconsole.sol\":{\"keccak256\":\"0xbef9786cb49d3eade757bad87568c49c8c8f35721f0193c95ffb055d9e466e11\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3bafd2b0b2d28068d329f95ea8a1fbce3719c257fcb863fc01abcbafd8d531ab\",\"dweb:/ipfs/QmUeaFjKWTVDBsHVfSob4mwt6A5hTnKDz22HaUXeZhypa3\"]},\"script/DeployCrowdfunding.s.sol\":{\"keccak256\":\"0xfcea2d23608fec25dbc9151e4cc079124d28fc41fdd630a1c7811ec7368eec41\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d54b9cbe652f0d2b80ff44baddcdb1a75fcca8f78613c0332749889d54aee121\",\"dweb:/ipfs/QmeeAzrou3FK7m4oqud1EabpEkt71hVULNNqqmHnmHR3pr\"]},\"src/Crowdfunding.sol\":{\"keccak256\":\"0xe47aad6e52a9d0d454606fc4fda3e0511868b208ef47045a52327d0b715cc9ac\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d8b186010a2507578684c42fa84fae8976bffc7d3563cb6347dfff90259d3cbb\",\"dweb:/ipfs/QmUS57NWT51aaNkhTaZSraNp3aW8eRfBowG358PFz6iLAS\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"view","type":"function","name":"IS_SCRIPT","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"run"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"script/DeployCrowdfunding.s.sol":"DeployCrowdfunding"},"evmVersion":"prague","libraries":{}},"sources":{"lib/forge-std/src/Base.sol":{"keccak256":"0x4b2a5a85e045dcf6a082700c7252e43854c2eed88f860aaa18ec1e85218ae2bf","urls":["bzz-raw://98d060ed5be569a92d908fc358149039dc8f833d61973aa1b9d1d8235676bf6d","dweb:/ipfs/QmaWQpn5dJmbMS5skwmPPMeUWZG35BLkignPpcA3zyagEs"],"license":"MIT"},"lib/forge-std/src/Script.sol":{"keccak256":"0xc942e27c7baae499beb01afbbae99f24d42af9a6e4aae675bc6901b704aa8e9b","urls":["bzz-raw://0456008adf68947247f358b62863af4a8e349549d2260f2ff9569ff0e3cf5c98","dweb:/ipfs/QmdviSUj2i7o3TPN5vd2xocqGMFVqjUzaiJTZRYyPxyHPx"],"license":"MIT"},"lib/forge-std/src/StdChains.sol":{"keccak256":"0x8bed7472cb417f0e55ea37fe8cd34a54788d06a13de7c96e1448eae041744568","urls":["bzz-raw://6bf07369fee84b74edd61c8eb08bf71e3f4fdbb6ad24061996b4e2bfd42f3f69","dweb:/ipfs/QmQhyYedzf8GtTc51495Lek1rZBQ6nigrGFXUpwHhN3RLa"],"license":"MIT"},"lib/forge-std/src/StdCheats.sol":{"keccak256":"0x07852d61fcf2fe5e25fa66e607f52cb97eab8adaf2e3fd4cb8404eb69baee90c","urls":["bzz-raw://ed97c9c7372b77a0b417c1285f631aa1396d8c3104f14b80abd559f305d67d1e","dweb:/ipfs/QmeHLpi3g9XKLT8z76AF5ofwrXQm2yxPDpWztCZ2wPDW6i"],"license":"MIT"},"lib/forge-std/src/StdConstants.sol":{"keccak256":"0x319ccdabfa2c0b2428301445873270ffea20f0e039d4fd5e6eeba65158e4e534","urls":["bzz-raw://b633f9d3a719e1d035ce7daa6cc051ddf89a72d34200d14cec37728e245cdabc","dweb:/ipfs/QmRP7HQJpHMx1CsFrY8tXVVx1DQmi2dcb2BoGfiWaA923r"],"license":"MIT"},"lib/forge-std/src/StdJson.sol":{"keccak256":"0x9de30197a56fe90c443948c3feeb20e9a29e0e9c0b8fa893e8ac4c1344acd589","urls":["bzz-raw://444783bd32a8abfd3fbcf16c5d1cdccef5608b2a9cfddd789fa1b045b077ed2a","dweb:/ipfs/QmY94NxHDFW1Knxs9GcgFhq2QZQpRXgor4NMamKQ9CCVyp"],"license":"MIT"},"lib/forge-std/src/StdMath.sol":{"keccak256":"0xcb876f5421e5aae334f9a6c5d549131c18ad347f1035d2a1e920f2623f346c85","urls":["bzz-raw://28076e06b01be4095f860fa9b142c284bac34c0813948e0a52d11acc15502db6","dweb:/ipfs/QmVR6XFTmBatJAVvYgkZxN21R5zvYTU4ard4Aow8TmXjy9"],"license":"MIT"},"lib/forge-std/src/StdStorage.sol":{"keccak256":"0xddd9f444525fe3b2db77df55bde598676784b13bd19ead1d19b95802de0eacdc","urls":["bzz-raw://53770fa34bf0d75fd2946b71335ce6e6001053595e6dd78e7af9baf7a5270616","dweb:/ipfs/QmVvfuJi928Hw6i44oUArYeAP8Pst1bvQvUeJ3CTdh1yUZ"],"license":"MIT"},"lib/forge-std/src/StdStyle.sol":{"keccak256":"0x43e2a8a9b9c2574dabe74f11adf6f782df218f463540e3b5b563609fe108597d","urls":["bzz-raw://51363ca97404cf4128e1141428949768c31929e75e014b02c85e887fbbb4f1b8","dweb:/ipfs/QmVhtbQc2fU4rRmbcfBtz34mAgG4BAZBsbna1Ca4SkoPsK"],"license":"MIT"},"lib/forge-std/src/StdUtils.sol":{"keccak256":"0x4b541d0e4758fbbefeb1f2d547c864b2cb7cc35fcd6ff81772a44cc86344e19c","urls":["bzz-raw://3f2271f9441041fe761879924bcd027cdb0145586a9769d2043fe551cf78c6a7","dweb:/ipfs/QmZP6jjnsTH7L3T8P9ecJXqg9o5P3sa1FbCG6DY3HYYcfx"],"license":"MIT"},"lib/forge-std/src/Vm.sol":{"keccak256":"0x1f3cfde19cafbd145904bfb00581a10ca7667186276e8c91dc2943ec559de88a","urls":["bzz-raw://bdf9afa0df475e5ea0aa1f5feb27987499051a1a85a9177d3d01e131ff0f1af2","dweb:/ipfs/QmdQfAdeU4PtQSHs1mMwoEUpdFfbrgRdJuhVXeaxeb5dxV"],"license":"MIT OR Apache-2.0"},"lib/forge-std/src/console.sol":{"keccak256":"0x4bbf47eb762cef93729d6ef15e78789957147039b113e5d4df48e3d3fd16d0f5","urls":["bzz-raw://af9e3a7c3d82fb5b10b57ca4d1a82f2acbef80c077f6f6ef0cc0187c7bfd9f57","dweb:/ipfs/QmR9VzmnBDJpgiDP6CHT6truehukF9HpYvuP6kRiJbDwPP"],"license":"MIT"},"lib/forge-std/src/console2.sol":{"keccak256":"0x3b8fe79f48f065a4e4d35362171304a33784c3a90febae5f2787805a438de12f","urls":["bzz-raw://61de63af08803549299e68b6e6e88d40f3c5afac450e4ee0a228c66a61ba003d","dweb:/ipfs/QmWVoQ5rrVxnczD4ZZoPbD4PC9Z3uExJtzjD4awTqd14MZ"],"license":"MIT"},"lib/forge-std/src/interfaces/IMulticall3.sol":{"keccak256":"0xeb0daba50f85adb160209f03ebf7b3b548e09651aa799087795daf17b1495c7a","urls":["bzz-raw://8b5b356871e51267728d69c662d8d8ce653dd0a8edc47098b6f8064ea1173e28","dweb:/ipfs/QmRJTAmV68NYGSkDGKrGpsJnEZ8wQF4dDCevXGtNU4RWtQ"],"license":"MIT"},"lib/forge-std/src/safeconsole.sol":{"keccak256":"0xbef9786cb49d3eade757bad87568c49c8c8f35721f0193c95ffb055d9e466e11","urls":["bzz-raw://3bafd2b0b2d28068d329f95ea8a1fbce3719c257fcb863fc01abcbafd8d531ab","dweb:/ipfs/QmUeaFjKWTVDBsHVfSob4mwt6A5hTnKDz22HaUXeZhypa3"],"license":"MIT"},"script/DeployCrowdfunding.s.sol":{"keccak256":"0xfcea2d23608fec25dbc9151e4cc079124d28fc41fdd630a1c7811ec7368eec41","urls":["bzz-raw://d54b9cbe652f0d2b80ff44baddcdb1a75fcca8f78613c0332749889d54aee121","dweb:/ipfs/QmeeAzrou3FK7m4oqud1EabpEkt71hVULNNqqmHnmHR3pr"],"license":"MIT"},"src/Crowdfunding.sol":{"keccak256":"0xe47aad6e52a9d0d454606fc4fda3e0511868b208ef47045a52327d0b715cc9ac","urls":["bzz-raw://d8b186010a2507578684c42fa84fae8976bffc7d3563cb6347dfff90259d3cbb","dweb:/ipfs/QmUS57NWT51aaNkhTaZSraNp3aW8eRfBowG358PFz6iLAS"],"license":"MIT"}},"version":1},"id":15},

        {
            "inputs": [
                {
                    "internalType": "string",
                    "name": "_name",
                    "type": "string"
                },
                {
                    "internalType": "string",
                    "name": "_description",
                    "type": "string"
                },
                {
                    "internalType": "uint256",
                    "name": "_goal",
                    "type": "uint256"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "constructor"
        },
        // ... остальные элементы ABI
    ];
    // ==============================================

    // Получаем элементы DOM
    const connectBtn = document.getElementById('connectBtn');
    const fundBtn = document.getElementById('fundBtn');
    const withdrawBtn = document.getElementById('withdrawBtn');
    const refundBtn = document.getElementById('refundBtn');
    const projectNameEl = document.getElementById('projectName');
    const descriptionEl = document.getElementById('description');
    const goalEl = document.getElementById('goal');
    const totalFundsEl = document.getElementById('totalFunds');
    const ownerEl = document.getElementById('owner');
    const amountInput = document.getElementById('amount');
    const progressFill = document.getElementById('progress');
    const donationsList = document.getElementById('donationsList');
    const networkNameEl = document.getElementById('networkName');
    const contractAddressEl = document.getElementById('contractAddress');

    let provider, signer, contract, userAddress;

    // Инициализация при загрузке
    contractAddressEl.textContent = contractAddress;
    
    // Проверка наличия MetaMask
    if (!window.ethereum) {
        alert('Пожалуйста, установите MetaMask для использования этого приложения!');
        connectBtn.disabled = true;
        connectBtn.textContent = 'MetaMask не установлен';
        return;
    }

    // Функция подключения к MetaMask
    connectBtn.onclick = async () => {
        try {
            provider = new ethers.BrowserProvider(window.ethereum);
            await provider.send("eth_requestAccounts", []);
            signer = await provider.getSigner();
            contract = new ethers.Contract(contractAddress, contractABI, signer);
            userAddress = await signer.getAddress();
            
            // Обновляем интерфейс
            connectBtn.textContent = `Подключен: ${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`;
            connectBtn.classList.add('connected');
            
            // Получаем информацию о сети
            const network = await provider.getNetwork();
            networkNameEl.textContent = network.name === 'unknown' ? 'Sepolia' : network.name;
            
            // Загружаем данные контракта
            await loadContractData();
            
        } catch (error) {
            console.error('Ошибка подключения:', error);
            alert(`Ошибка подключения: ${error.message}`);
        }
    };

    // Функция загрузки данных контракта
    async function loadContractData() {
        if (!contract) return;
        
        try {
            // Получаем основные данные
            const [name, desc, goal, total, owner] = await Promise.all([
                contract.projectName(),
                contract.description(),
                contract.goal(),
                contract.totalFunds(),
                contract.owner()
            ]);
            
            // Обновляем DOM
            projectNameEl.textContent = name;
            descriptionEl.textContent = desc;
            goalEl.textContent = ethers.formatEther(goal);
            totalFundsEl.textContent = ethers.formatEther(total);
            ownerEl.textContent = owner;
            
            // Обновляем прогресс-бар
            const goalNum = Number(ethers.formatEther(goal));
            const totalNum = Number(ethers.formatEther(total));
            const progressPercent = goalNum > 0 ? Math.min(100, (totalNum / goalNum) * 100) : 0;
            progressFill.style.width = `${progressPercent}%`;
            
            // Обновляем историю донатов
            await updateDonationsList();
            
            // Проверяем, является ли пользователь владельцем
            if (userAddress && userAddress.toLowerCase() === owner.toLowerCase()) {
                withdrawBtn.style.display = 'block';
            } else {
                withdrawBtn.style.display = 'none';
            }
            
        } catch (error) {
            console.error('Ошибка загрузки данных:', error);
        }
    }

    // Функция обновления списка пожертвований
    async function updateDonationsList() {
        if (!contract) return;
        
        try {
            const donorCount = await contract.donorCount();
            donationsList.innerHTML = '';
            
            if (donorCount === 0) {
                const li = document.createElement('li');
                li.textContent = 'Пожертвований пока нет';
                donationsList.appendChild(li);
                return;
            }
            
            // Собираем все донаты
            const donationPromises = [];
            for (let i = 0; i < donorCount; i++) {
                donationPromises.push(contract.donors(i));
            }
            
            const donations = await Promise.all(donationPromises);
            
            // Фильтруем и отображаем только ненулевые донаты
            donations.forEach((donation, index) => {
                const [donor, amount] = donation;
                if (Number(amount) > 0) {
                    const li = document.createElement('li');
                    li.textContent = `${donor.slice(0, 6)}...${donor.slice(-4)}: ${ethers.formatEther(amount)} ETH`;
                    donationsList.appendChild(li);
                }
            });
            
        } catch (error) {
            console.error('Ошибка загрузки истории:', error);
        }
    }

    // Функция пожертвования
   fundBtn.onclick = async () => {
    if (!contract) {
        alert('Сначала подключите MetaMask!');
        return;
    }
    
    const ethAmount = amountInput.value;
    if (!ethAmount || Number(ethAmount) <= 0) {
        alert('Введите корректную сумму');
        return;
    }
    
    try {
        fundBtn.disabled = true;
        fundBtn.textContent = 'Подготовка...';
        
        const tx = await contract.fund({
            value: ethers.parseEther(ethAmount)
        });
        
        fundBtn.textContent = 'Ожидаем подтверждения...';
        await tx.wait();
        
        await loadContractData();
        amountInput.value = '0.001';
        alert('Транзакция успешна!');
        
    } catch (error) {
        console.error('Ошибка:', error);
        if (error.code === 'ACTION_REJECTED') {
            alert('Вы отклонили транзакцию');
        } else {
            alert('Ошибка: ' + (error.reason || error.message));
        }
    } finally {
        fundBtn.disabled = false;
        fundBtn.textContent = 'Отправить ETH';
    }
};
    // Функция вывода средств (только владелец)
    withdrawBtn.onclick = async () => {
        if (!contract) {
            alert('Сначала подключите MetaMask!');
            return;
        }
        
        if (!confirm('Вы уверены, что хотите вывести все собранные средства?')) {
            return;
        }
        
        try {
            withdrawBtn.disabled = true;
            withdrawBtn.textContent = 'Вывод...';
            
            const tx = await contract.withdraw();
            await tx.wait();
            await loadContractData();
            
            withdrawBtn.disabled = false;
            withdrawBtn.textContent = 'Вывести средства (только владелец)';
            
            alert('Средства успешно выведены!');
            
        } catch (error) {
            console.error('Ошибка вывода:', error);
            alert(`Ошибка: ${error.reason || error.message}`);
            
            withdrawBtn.disabled = false;
            withdrawBtn.textContent = 'Вывести средства (только владелец)';
        }
    };

    // Функция возврата средств
    refundBtn.onclick = async () => {
        if (!contract) {
            alert('Сначала подключите MetaMask!');
            return;
        }
        
        if (!confirm('Вы уверены, что хотите вернуть свои средства?')) {
            return;
        }
        
        try {
            refundBtn.disabled = true;
            refundBtn.textContent = 'Возврат...';
            
            const tx = await contract.refund();
            await tx.wait();
            await loadContractData();
            
            refundBtn.disabled = false;
            refundBtn.textContent = 'Вернуть средства (если цель не достигнута)';
            
            alert('Средства успешно возвращены!');
            
        } catch (error) {
            console.error('Ошибка возврата:', error);
            alert(`Ошибка: ${error.reason || error.message}`);
            
            refundBtn.disabled = false;
            refundBtn.textContent = 'Вернуть средства (если цель не достигнута)';
        }
    };

    // Автоматическое подключение, если MetaMask уже подключен
    if (window.ethereum.selectedAddress) {
        connectBtn.click();
    }
});